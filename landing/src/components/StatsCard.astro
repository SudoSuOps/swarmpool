---
interface Props {
  label: string;
  value: string;
  change?: string;
  icon?: 'activity' | 'dollar' | 'server' | 'layers';
  highlight?: boolean;
}

const { label, value, change, icon = 'activity', highlight = false } = Astro.props;

const icons = {
  activity: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>`,
  dollar: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>`,
  server: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"/>`,
  layers: `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>`
};
---

<div class={`
  p-6 rounded-xl border transition-all
  ${highlight 
    ? 'bg-gradient-to-br from-swarm-blue/10 to-swarm-bg-card border-swarm-blue/30 shadow-glow' 
    : 'bg-swarm-bg-card border-swarm-border hover:border-swarm-border-light'}
`}>
  <div class="flex items-start justify-between mb-4">
    <div class={`
      w-10 h-10 rounded-lg flex items-center justify-center
      ${highlight ? 'bg-swarm-blue/20' : 'bg-swarm-bg-elevated'}
    `}>
      <svg class={`w-5 h-5 ${highlight ? 'text-swarm-blue' : 'text-swarm-text-dim'}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <Fragment set:html={icons[icon]} />
      </svg>
    </div>
    {highlight && (
      <span class="flex items-center gap-1.5 text-xs text-swarm-online">
        <span class="w-1.5 h-1.5 rounded-full bg-swarm-online animate-pulse"></span>
        Live
      </span>
    )}
  </div>
  
  <div class="text-2xl font-bold text-swarm-text mb-1">{value}</div>
  <div class="text-sm text-swarm-text-dim">{label}</div>
  
  {change && (
    <div class="mt-3 pt-3 border-t border-swarm-border">
      <span class="text-xs text-swarm-text-muted">{change}</span>
    </div>
  )}
</div>
